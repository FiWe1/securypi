{% extends 'base.html' %}
{% block head %}
{# 
  Disabled camera cleanup script for now.
  Re-enable when implementing background stop_camera behavior.
  
  <script>
    window.addEventListener("beforeunload", function () {
      // Send a background POST request when the user leaves the page
      navigator.sendBeacon("/stop_camera");
    });
  </script>
#}
{% endblock %}

{% block body_header %}
  <header>
    <h1>{% block title %}Your Home{% endblock %}</h1>
  </header>
{% endblock %}

{% block body_content %}
  <section class="camera_overview">
    {% if mode == "stream" %}
    {% include 'overview/stream.html' %}
    {% else %}
    {% include 'overview/snapshot.html' %}
    {% endif %}
  </section>

  <section class="temphum">
    <h2>Temperature and Humidity</h2>
    <p>Temperature: {{ temperature }} &deg;{{ temperature_unit }}</p>
    <p>Humidity: {{ humidity }} %</p>
  </section>
{% endblock %}
