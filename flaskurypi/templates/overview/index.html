{% extends 'base.html' %}
{% block head %}
{# 
  Disabled camera cleanup script for now.
  Re-enable when implementing background stop_camera behavior.
  
  <script>
    window.addEventListener("beforeunload", function () {
      // Send a background POST request when the user leaves the page
      navigator.sendBeacon("/stop_camera");
    });
  </script>
#}
{% endblock %}

{% block body %}
<div class="overview_content">
  <header class="overview_content__title">
    <h1>{% block title %}Your Home{% endblock %}</h1>
  </header>

  <section class="overview_content__temphum">
    <p>Temperature: {{ temperature }} &deg;{{ temperature_unit }}</p>
    <p>Humidity: {{ humidity }} %</p>
  </section>
  <section class="overview_content__camera_feed">
    {% if mode == "stream" %}
    {% include 'overview/stream.html' %}
    {% else %}
    {% include 'overview/snapshot.html' %}
    {% endif %}
  </section>
</div>
  
{% endblock %}
